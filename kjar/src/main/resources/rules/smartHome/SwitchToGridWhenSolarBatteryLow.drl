package rules.smartHome

import com.ftn.sbnz.model.Home
import com.ftn.sbnz.model.HomeProfile
import com.ftn.sbnz.model.SolarGenerator

rule "when battery lower than 30% switch to grid"
    when
        $home: Home( $profile : profile )
        $solar: SolarGenerator( currentBatteryCharge < 30.0, $profile == HomeProfile.RESERVES)
    then
    modify($home){$home.setProfile(HomeProfile.GRID)}
end
